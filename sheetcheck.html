<!doctype html>
<html lang="en">

<head>
  <title>v205 Easylist by mgeek.in</title>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">



  <!--<meta name="google-signin-scope" content="prateekrajgautam@gmail.com">-->
  <meta name="google-signin-client_id"
    content="201216020998-9m7aussf56d4kjkciqmrs01k9tq8l8qr.apps.googleusercontent.com">
  <!-- Bootstrap CSS -->
  <link href='https://fonts.googleapis.com/css?family=Trade Winds&family=Advent Pro' rel='stylesheet'>
  <!--<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">-->
  <link rel="stylesheet" href="bootstrap4/css/bootstrap.min.css">
  <script src="js/main.js" async type="text/javascript"></script>
  <!--<script src="https://www.google.com/recaptcha/api.js" async defer></script>-->
  <script src="https://www.google.com/recaptcha/api.js?render=6Lds0K4ZAAAAAOM-h7WV1K-zVkfTnhN0hzBJE-rE"></script>
  <script>
    function onSubmit(token) {
      document.getElementById("demo-form").submit();
    }
  </script>


  <script src="js/crypto-js.min.js"></script>
  <script src="js/jspdf.min.js"></script>
  <script src="js/html2canvas.js"></script>



  <style>
    h1,
    h2,
    h3,
    nav {
      font-family: 'Trade Winds';
      font-size: 22px;
    }

    body {
      font-family: 'Advent Pro';
      font-size: 16px;
    }
  </style>
</head>

<body>

  <div class="row">
    <nav class="navbar navbar-expand-lg navbar-light bg-primary fixed-top mb-5">
      <div class="container">
        <a class="navbar-brand" href="http://easylist.mgeek.in">Easylist </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown"
          aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavDropdown">
          <ul class="navbar-nav">
            <li class="navbar nav-item" onclick="showList()">Select Items</li>
            <li id="cart-nav" class="navbar nav-item" onclick="showCart()">Cart</li>
            <li class="navbar nav-item" onclick="showCustomerForm()">Customer Details</li>
            <li class="navbar nav-item" onclick="showCheckout()">Checkout</li>
          </ul>
          <div id="googleSignin">
            <div class="g-signin2" data-onsuccess="onSignIn"></div>
          </div>
        </div>
      </div>
    </nav>

  </div>
  <div class="row mt-5"></div>
  <div class="container mt-5">
    <h3>Preorder shoping list so we prepare your order ready for pickup</h3>
  </div>
  



  <button id="authorize_button" style="display: none;">Authorize</button>
    <button id="signout_button" style="display: none;">Sign Out</button>














  











  <script src="https://apis.google.com/js/platform.js" async defer></script>






  <script>
    var customerObject = {
      "Name": "name",
      "Rank": "rank",
      "Number": 91,
      "Email": "abc@domain.com",
      "Address": "Address",
      "Filled": 0
    }




  </script>



  <script>
    function onSignIn(googleUser) {
      // Useful data for your client-side scripts:
      window.profile = googleUser.getBasicProfile();
      console.log("ID: " + profile.getId()); // Don't send this directly to your server!
      console.log("Name: " + profile.getName());
      console.log("Image URL: " + profile.getImageUrl());
      console.log("Email: " + profile.getEmail());

      // The ID token you need to pass to your backend:
      var id_token = googleUser.getAuthResponse().id_token;
      console.log("ID Token: " + id_token);



      customerObject.ID = profile.getId()
      customerObject.Name = profile.getName()
      customerObject.Email = profile.getEmail()
      customerObject.ImageURL = profile.getImageUrl()
      customerObject.GoogleUser = 1



      document.getElementById("googleSignin").innerHTML = `<button class="btn btn-secondary btn-sm" onclick="signOut()">signout ${profile.getName()}</button>`
      document.getElementById("googleSignin").onclick = "signOut()"
      return customerObject
    };
  </script>














  <!-- Optional JavaScript -->
  <!-- jQuery first, then Popper.js, then Bootstrap JS 
  <script src="/js/main.js"></script>-->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>
  <!--<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>-->
  <script src="bootstrap4/js/bootstrap.min.js"></script>














    <pre id="content" style="white-space: pre-wrap;"></pre>

    <script type="text/javascript">
      // Client ID and API key from the Developer Console
      var CLIENT_ID = '201216020998-9m7aussf56d4kjkciqmrs01k9tq8l8qr.apps.googleusercontent.com';
      var API_KEY = 'AIzaSyCbVEVuW4lDMB9KaTtEbq02lR57EfaEGrk';

      // Array of API discovery doc URLs for APIs used by the quickstart
      var DISCOVERY_DOCS = ["https://sheets.googleapis.com/$discovery/rest?version=v4"];

      // Authorization scopes required by the API; multiple scopes can be
      // included, separated by spaces.
      var SCOPES = "https://www.googleapis.com/auth/spreadsheets";

      var authorizeButton = document.getElementById('authorize_button');
      var signoutButton = document.getElementById('signout_button');

      /**
       *  On load, called to load the auth2 library and API client library.
       */
      function handleClientLoad() {
        gapi.load('client:auth2', initClient);
      }

      /**
       *  Initializes the API client library and sets up sign-in state
       *  listeners.
       */
      function initClient() {
        gapi.client.init({
          apiKey: API_KEY,
          clientId: CLIENT_ID,
          discoveryDocs: DISCOVERY_DOCS,
          scope: SCOPES
        }).then(function () {
          // Listen for sign-in state changes.
          gapi.auth2.getAuthInstance().isSignedIn.listen(updateSigninStatus);

          // Handle the initial sign-in state.
          updateSigninStatus(gapi.auth2.getAuthInstance().isSignedIn.get());
          authorizeButton.onclick = handleAuthClick;
          signoutButton.onclick = handleSignoutClick;
        }, function(error) {
          appendPre(JSON.stringify(error, null, 2));
        });
      }

      /**
       *  Called when the signed in status changes, to update the UI
       *  appropriately. After a sign-in, the API is called.
       */
      function updateSigninStatus(isSignedIn) {
        if (isSignedIn) {
          authorizeButton.style.display = 'none';
          signoutButton.style.display = 'block';
          listMajors();
        } else {
          authorizeButton.style.display = 'block';
          signoutButton.style.display = 'none';
        }
      }

      /**
       *  Sign in the user upon button click.
       */
      function handleAuthClick(event) {
        gapi.auth2.getAuthInstance().signIn();
      }

      /**
       *  Sign out the user upon button click.
       */
      function handleSignoutClick(event) {
        gapi.auth2.getAuthInstance().signOut();
      }

      /**
       * Append a pre element to the body containing the given message
       * as its text node. Used to display the results of the API call.
       *
       * @param {string} message Text to be placed in pre element.
       */
      function appendPre(message) {
        var pre = document.getElementById('content');
        var textContent = document.createTextNode(message + '\n');
        pre.appendChild(textContent);
      }

      /**
       * Print the names and majors of students in a sample spreadsheet:
       * https://docs.google.com/spreadsheets/d/1BxiMVs0XRA5nFMdKvBdBZjgmUUqptlbs74OgvE2upms/edit
https://docs.google.com/spreadsheets/d/1If8fRluMKtbe_ZBTeRLHfukzVJpO9QkresTS7sD1qgw/edit

       */
      function listMajors() {
        gapi.client.sheets.spreadsheets.values.get({
          //spreadsheetId: '1BxiMVs0XRA5nFMdKvBdBZjgmUUqptlbs74OgvE2upms',
          spreadsheetId: '1If8fRluMKtbe_ZBTeRLHfukzVJpO9QkresTS7sD1qgw',
          range: 'Class Data!A2:E',
        }).then(function(response) {
          var range = response.result;
          if (range.values.length > 0) {
            appendPre('Name, Major:');
            for (i = 0; i < range.values.length; i++) {
              var row = range.values[i];
              // Print columns A and E, which correspond to indices 0 and 4.
              appendPre(row[0] + ', ' + row[4]);
            }
          } else {
            appendPre('No data found.');
          }
        }, function(response) {
          appendPre('Error: ' + response.result.error.message);
        });
      }

    </script>

    <script async defer src="https://apis.google.com/js/api.js"
      onload="this.onload=function(){};handleClientLoad()"
      onreadystatechange="if (this.readyState === 'complete') this.onload()">
    </script>
</body>

</html>